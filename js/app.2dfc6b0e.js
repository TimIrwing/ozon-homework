(function(t){function e(e){for(var n,i,u=e[0],c=e[1],s=e[2],d=0,f=[];d<u.length;d++)i=u[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(f.length)f.shift()();return o.push.apply(o,s||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,u=1;u<a.length;u++){var c=a[u];0!==r[c]&&(n=!1)}n&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},o=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var s=0;s<u.length;s++)e(u[s]);var l=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"1f4f":function(t,e,a){t.exports={container:"Calendar_container_142L1",header__button:"Calendar_header__button_1ub_b",day__button:"Calendar_day__button_3j1_-",header:"Calendar_header_1iKN2",day:"Calendar_day_2dB9A",day_name:"Calendar_day_name_16kV0",day_differentMonth:"Calendar_day_differentMonth_3EOdQ",day_today:"Calendar_day_today_1TZBP",day_hasTodo:"Calendar_day_hasTodo_1BIDM",day_selected:"Calendar_day_selected_2PJew",grid:"Calendar_grid_1JUSM",grid__el:"Calendar_grid__el__SW10"}},"43c9":function(t,e,a){},aea4:function(t,e,a){t.exports={container:"Calculator_container_1SuOP",loading:"Calculator_loading_3SYu9",loading_visible:"Calculator_loading_visible_7Svfn",screen:"Calculator_screen_1Ha2L",buffer:"Calculator_buffer_2wSbf",buffer_upper:"Calculator_buffer_upper_1YTqo",buffer_main:"Calculator_buffer_main_2fgDe",buffer__part:"Calculator_buffer__part_3d_ju",body:"Calculator_body_3I9W7",button:"Calculator_button_ArAGC",button_action:"Calculator_button_action_1TU08",action_clear:"Calculator_action_clear_eRcki",action_minus:"Calculator_action_minus_1RJfg",action_plus:"Calculator_action_plus_28tNb",action_result:"Calculator_action_result_1Nr48",digit_0:"Calculator_digit_0_1bffY",digit_1:"Calculator_digit_1_19adT",digit_2:"Calculator_digit_2_vvOm8",digit_3:"Calculator_digit_3_1flvs",digit_4:"Calculator_digit_4_3mBf9",digit_5:"Calculator_digit_5_3cRUm",digit_6:"Calculator_digit_6_2xmeA",digit_7:"Calculator_digit_7_QwrjZ",digit_8:"Calculator_digit_8_1OrC6",digit_9:"Calculator_digit_9_1sKpY"}},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=a("d4ec"),o=a("bee2"),i=a("262e"),u=a("2caf"),c=a("9ab4"),s=a("60a3"),l=(a("43c9"),a("99af"),a("d81d"),a("2909")),d=a("8511"),f=function(t){Object(i["a"])(a,t);var e=Object(u["a"])(a);function a(){return Object(r["a"])(this,a),e.apply(this,arguments)}return a}(n["a"]),h=a("fb44"),p=a.n(h),b=function(t){Object(i["a"])(a,t);var e=Object(u["a"])(a);function a(){return Object(r["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a,[{key:"render",value:function(){var t=arguments[0];return t("div",{class:p.a.card},[this.$slots.default])}}]),a}(f);b=Object(c["a"])([s["a"]],b);var _=b,g=a("1f4f"),v=a.n(g);function y(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}var O=function(t){Object(i["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(r["a"])(this,a),t=e.apply(this,arguments),t.store=Object(d["g"])(t.$store),t.today=new Date,t.weekDay=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],t.monthName=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],t.currentMonth=t.value.getMonth(),t.currentYear=t.value.getFullYear(),t}return Object(o["a"])(a,[{key:"setSelectedDay",value:function(t){this.currentMonth=t.getMonth(),this.currentYear=t.getFullYear()}},{key:"hasTodo",value:function(t){return this.store.todos.hasTodo(t)}},{key:"setMonthToPrev",value:function(){0===this.currentMonth?(this.currentMonth=11,this.currentYear-=1):this.currentMonth-=1}},{key:"setMonthToNext",value:function(){11===this.currentMonth?(this.currentMonth=0,this.currentYear+=1):this.currentMonth+=1}},{key:"getDayClasses",value:function(t){var e=[];return y(this.today,t)&&e.push(v.a.day_today),y(this.value,t)&&e.push(v.a.day_selected),this.hasTodo(t)&&e.push(v.a.day_hasTodo),t.getMonth()!==this.currentMonth&&e.push(v.a.day_differentMonth),e}},{key:"getDayMarkup",value:function(t){var e=this.$createElement,a=[v.a.day__button].concat(Object(l["a"])(this.getDayClasses(t)));return e("span",{class:v.a.day},[e("button",{class:a,on:{click:this.setSelectedDay.bind(this,t)},key:t.toLocaleDateString("ru-RU")},[t.getDate()])])}},{key:"render",value:function(){var t=arguments[0];return t(_,{class:v.a.container},[t("header",{class:v.a.header},[t("span",[this.monthName[this.currentMonth]," ",this.currentYear]),t("span",[t("button",{class:v.a.header__button,on:{click:this.setMonthToPrev}},["<"]),t("button",{class:v.a.header__button,on:{click:this.setMonthToNext}},[">"])])]),t("section",{class:v.a.grid},[this.weekdayMarkup,this.monthMarkup])])}},{key:"previousMonth",get:function(){for(var t=[],e=new Date(this.currentYear,this.currentMonth,0),a=e.getDay(),n=e.getDate(),r=0;r<a;r+=1)t.push(this.getDayMarkup(new Date(this.currentYear,this.currentMonth-1,n-r)));return t.reverse()}},{key:"nextMonth",get:function(){for(var t=[],e=new Date(this.currentYear,this.currentMonth+1,1),a=(e.getDay()+6)%7,n=1;a>0&&a<7;n+=1,a+=1)t.push(this.getDayMarkup(new Date(this.currentYear,this.currentMonth+1,n)));return t}},{key:"weekdayMarkup",get:function(){var t=this.$createElement;return this.weekDay.map((function(e){return t("span",{class:[v.a.day_name,v.a.grid__el]},[e])}))}},{key:"monthMarkup",get:function(){for(var t=new Date(this.currentYear,this.currentMonth+1,0).getDate(),e=Object(l["a"])(this.previousMonth),a=1;a<=t;a+=1){var n=new Date(this.currentYear,this.currentMonth,a);e.push(this.getDayMarkup(n))}return e.concat(this.nextMonth)}}]),a}(f);Object(c["a"])([Object(s["c"])({required:!0})],O.prototype,"value",void 0),Object(c["a"])([Object(s["b"])("change")],O.prototype,"setSelectedDay",null),O=Object(c["a"])([s["a"]],O);var j=O,k=a("ed6f"),m=a.n(k),M=function(t){Object(i["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(r["a"])(this,a),t=e.apply(this,arguments),t.store=Object(d["g"])(t.$store),t.addTodo=t.store.todos.addTodo,t}return Object(o["a"])(a,[{key:"toggleTodo",value:function(t){this.store.todos.toggleTodo([this.date,t])}},{key:"keydownHandler",value:function(t){var e=t.key,a=t.target;"enter"===e.toLowerCase()&&(this.addTodo([this.date,{text:a.value}]),a.value="")}},{key:"render",value:function(){var t=arguments[0];return t(_,[t("p",{class:m.a.title},["События - ",this.date.toLocaleDateString("ru-RU")]),this.todosMarkup,t("input",{class:m.a.input,attrs:{type:"text",placeholder:"Текст"},on:{keydown:this.keydownHandler}})])}},{key:"todos",get:function(){return this.store.todos.getTodos(this.date)}},{key:"todosMarkup",get:function(){var t=this,e=this.$createElement;return e("ul",{class:m.a.list},[this.todos.map((function(a){return e("li",{class:m.a.listItem},[e("label",{class:m.a.label},[e("input",{class:"visuallyhidden",attrs:{type:"checkbox"},domProps:{checked:a.done},on:{change:t.toggleTodo.bind(t,a)}}),e("span",{class:[m.a.fakeCheckbox,a.done&&m.a.fakeCheckbox_checked]}),e("span",{class:a.done&&m.a.text_done},[a.text])])])}))])}}]),a}(f);Object(c["a"])([Object(s["c"])({default:function(){return new Date}})],M.prototype,"date",void 0),M=Object(c["a"])([s["a"]],M);var C,T=M,w=(a("cb29"),a("4fad"),a("3835")),B=(a("a434"),a("a9e3"),a("9129"),a("d3b7"),a("96cf"),a("1da1"));function D(t){return Number.isNaN(Number(t))}function x(t){return new Promise((function(e){setTimeout((function(){while(t.length>=3){var a=t.splice(0,3),n=Object(w["a"])(a,3),r=n[0],o=n[1],i=n[2],u=0;switch(o){case C.plus:u=Number(r)+Number(i);break;case C.minus:u=Number(r)-Number(i);break;default:}t.unshift(String(u))}e(t.shift())}),2e3)}))}(function(t){t["clear"]="c",t["minus"]="-",t["plus"]="+",t["result"]="="})(C||(C={}));var S=function(){function t(){Object(r["a"])(this,t),this.upperBuffer=[],this.mainBuffer=[],this.loading=!1}return Object(o["a"])(t,[{key:"addDigit",value:function(t){if(this.equalSignVisible&&(this.mainBuffer=[]),this.lastItemIsAction||!this.mainBuffer.length)this.mainBuffer.push(String(t));else{var e=this.mainBuffer.pop();e&&this.mainBuffer.push(e+String(t))}}},{key:"action",value:function(t){switch(this.hideEqualSign(),t){case C.plus:this.pushAction(C.plus);break;case C.minus:this.pushAction(C.minus);break;case C.clear:this.clearBuffers();break;case C.result:this.calculateResult();break;default:}}},{key:"calculateResult",value:function(){var t=Object(B["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.mainBuffer.length<3)){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,this.loading=!0,this.lastItemIsAction&&this.mainBuffer.pop(),e=Object(l["a"])(this.mainBuffer),t.next=8,x(e);case 8:a=t.sent,this.upperBuffer=this.mainBuffer.map((function(t){return D(t)?t:String(Number(t))})),this.mainBuffer=[a],this.equalSignVisible=!0,t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](2),console.error(t.t0);case 17:return t.prev=17,this.loading=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,this,[[2,14,17,20]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"clearBuffers",value:function(){this.upperBuffer=[],this.mainBuffer=[]}},{key:"pushAction",value:function(t){!this.lastItemIsAction&&this.mainBuffer.length&&this.mainBuffer.push(t)}},{key:"hideEqualSign",value:function(){this.equalSignVisible=!1}},{key:"equalSignVisible",get:function(){return this.mainBuffer[0]===C.result},set:function(t){t&&this.mainBuffer[0]!==C.result?this.mainBuffer.unshift(C.result):this.mainBuffer[0]===C.result&&this.mainBuffer.shift()}},{key:"lastItemIsAction",get:function(){var t=this.mainBuffer[this.mainBuffer.length-1];return D(t)}}]),t}();Object(c["a"])([Object(d["e"])()],S.prototype,"upperBuffer",void 0),Object(c["a"])([Object(d["e"])()],S.prototype,"mainBuffer",void 0),Object(c["a"])([Object(d["e"])()],S.prototype,"loading",void 0),Object(c["a"])([Object(d["b"])()],S.prototype,"lastItemIsAction",null),Object(c["a"])([Object(d["a"])()],S.prototype,"addDigit",null),Object(c["a"])([Object(d["a"])()],S.prototype,"action",null),Object(c["a"])([Object(d["a"])()],S.prototype,"calculateResult",null),Object(c["a"])([Object(d["d"])()],S.prototype,"clearBuffers",null),Object(c["a"])([Object(d["d"])()],S.prototype,"pushAction",null),Object(c["a"])([Object(d["d"])()],S.prototype,"hideEqualSign",null);var Y=a("aea4"),A=a.n(Y),I=function(t){Object(i["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(r["a"])(this,a),t=e.apply(this,arguments),t.store=Object(d["g"])(t.$store),t.addDigit=t.store.calculator.addDigit,t.calculatorAction=t.store.calculator.action,t}return Object(o["a"])(a,[{key:"getBufferMarkup",value:function(t){var e=this.$createElement;return t.map((function(t){return e("span",{class:A.a.buffer__part},[t])}))}},{key:"render",value:function(){var t=arguments[0];return t("section",{class:A.a.container},[t("span",{class:[A.a.loading,this.loading&&A.a.loading_visible]}),t("div",{class:A.a.screen},[t("div",{class:[A.a.buffer,A.a.buffer_upper]},[this.getBufferMarkup(this.upperBuffer)]),t("div",{class:[A.a.buffer,A.a.buffer_main]},[this.getBufferMarkup(this.mainBuffer)])]),t("div",{class:A.a.body},[this.actionsMarkup,this.digitsMarkup])])}},{key:"upperBuffer",get:function(){return this.store.calculator.upperBuffer}},{key:"mainBuffer",get:function(){return this.store.calculator.mainBuffer}},{key:"loading",get:function(){return this.store.calculator.loading}},{key:"actionsMarkup",get:function(){var t=this,e=this.$createElement,a=Object.entries(C);return a.map((function(a){var n=Object(w["a"])(a,2),r=n[0],o=n[1];return e("button",{attrs:{disabled:t.loading},class:[A.a.button,A.a.button_action,A.a["action_".concat(r)]],on:{click:t.calculatorAction.bind(t,o)}},[o.toUpperCase()])}))}},{key:"digitsMarkup",get:function(){var t=this,e=this.$createElement;return Array(10).fill(1).map((function(a,n){return e("button",{attrs:{disabled:t.loading},class:[A.a.button,A.a["digit_".concat(n)]],on:{click:t.addDigit.bind(t,n)}},[n])}))}}]),a}(f);I=Object(c["a"])([s["a"]],I);var N=I,P=function(t){Object(i["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(r["a"])(this,a),t=e.apply(this,arguments),t.selectedDate=new Date,t}return Object(o["a"])(a,[{key:"render",value:function(){var t=this,e=arguments[0];return e("div",{attrs:{id:"app"}},[e("section",{class:"calendar-container"},[e(j,{attrs:{value:this.selectedDate},on:{change:function(e){t.selectedDate=e}}}),e(T,{attrs:{date:this.selectedDate}})]),e(N)])}}]),a}(s["d"]);P=Object(c["a"])([s["a"]],P);var $=P,q=a("2f62");a("7db0"),a("45fc"),a("498a");function E(t){return"".concat(t.getDate(),".").concat(t.getMonth(),".").concat(t.getFullYear())}function R(t){return t.trim()}var U=function(){function t(){Object(r["a"])(this,t),this.todos=Object.create(null)}return Object(o["a"])(t,[{key:"addTodo",value:function(t){var e=Object(w["a"])(t,2),a=e[0],n=e[1],r=R(n.text),o=this.todos[E(a)];r&&!(null===o||void 0===o?void 0:o.some((function(t){var e=t.text;return e===r})))&&this.addTodoMutation(t)}},{key:"toggleTodo",value:function(t){var e=Object(w["a"])(t,2),a=e[0],n=e[1],r=R(n.text),o=this.todos[E(a)];(null===o||void 0===o?void 0:o.some((function(t){var e=t.text;return e===r})))&&this.toggleTodoMutation(t)}},{key:"addTodoMutation",value:function(t){var e=Object(w["a"])(t,2),a=e[0],r=e[1].text,o=E(a);this.hasTodo(a)||n["a"].set(this.todos,o,[]),this.todos[o].push({text:R(r)})}},{key:"toggleTodoMutation",value:function(t){var e=Object(w["a"])(t,2),a=e[0],r=e[1],o=this.todos[E(a)],i=null===o||void 0===o?void 0:o.find((function(t){var e=t.text;return e===r.text}));i&&n["a"].set(i,"done",!i.done)}},{key:"hasTodo",get:function(){var t=this;return function(e){var a=E(e);return a in t.todos&&!!t.todos[a].length}}},{key:"getTodos",get:function(){var t=this;return function(e){return t.hasTodo(e)?t.todos[E(e)]:[]}}}]),t}();Object(c["a"])([Object(d["e"])()],U.prototype,"todos",void 0),Object(c["a"])([Object(d["b"])()],U.prototype,"hasTodo",null),Object(c["a"])([Object(d["b"])()],U.prototype,"getTodos",null),Object(c["a"])([Object(d["a"])()],U.prototype,"addTodo",null),Object(c["a"])([Object(d["a"])()],U.prototype,"toggleTodo",null),Object(c["a"])([Object(d["d"])()],U.prototype,"addTodoMutation",null),Object(c["a"])([Object(d["d"])()],U.prototype,"toggleTodoMutation",null),n["a"].use(q["b"]);var J=function t(){Object(r["a"])(this,t),this.todos=new U,this.calculator=new S};Object(c["a"])([Object(d["c"])()],J.prototype,"todos",void 0),Object(c["a"])([Object(d["c"])()],J.prototype,"calculator",void 0);var F=Object(d["f"])(new J,{strict:!1});n["a"].config.productionTip=!1,new n["a"]({store:F,render:function(t){return t($)}}).$mount("#app")},ed6f:function(t,e,a){t.exports={title:"Todos_title_32Ipe",input:"Todos_input_2rkwi",list:"Todos_list_1re07",listItem:"Todos_listItem_rdsP5",label:"Todos_label_2cHT2",fakeCheckbox:"Todos_fakeCheckbox_h1C1-",fakeCheckbox_checked:"Todos_fakeCheckbox_checked_2JYwy",text_done:"Todos_text_done_2boSq"}},fb44:function(t,e,a){t.exports={card:"Card_card_1zKUO"}}});
//# sourceMappingURL=app.2dfc6b0e.js.map